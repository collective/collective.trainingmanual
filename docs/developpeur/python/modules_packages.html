
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Modules et packages &mdash; Plone pour les développeurs 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/plone.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Recherchez dans Plone pour les développeurs 1.0.0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="top" title="Plone pour les développeurs 1.0.0 documentation" href="../index.html" />
    <link rel="up" title="Presentation de Python" href="index.html" />
    <link rel="next" title="La programmation Orientée Objet" href="programmation_orientee_objet.html" />
    <link rel="prev" title="Fonctions et espaces de noms" href="fonctions_espaces_noms.html" />
<script language="javascript">
//<![CDATA[

Documentation.addTranslations({"locale": "fr", "plural_expr": "(n > 1)", "messages": {"See the definition": "Voir la d\u00e9finition"}});

// See http://disqus.disqus.com/general_integration_help/
var disqus_developer = 1;
if (document.location.protocol == 'http:') {
    disqus_developer = 0;
}

// Some HTML/CSS transforms we can't do in pure CSS (waiting for CSS3 support)
$(document).ready(function () {

    // Style of .. verisonmodified:: , .. versionadded:: ...
    $('p:has(span.versionmodified)').addClass('p-versionmodified');

    // Style of the TOC tree
    $('ul:has(li.toctree-l1)').addClass('toctree');

    // Decorate links to other sites
    $('a[class~=external]').attr('target', '_blank');

    // Glossary terms
    $('em.xref').attr('title', _('See the definition'));

    // We need to have all <pre> in a <div class="highlight"> to mimic pygments
    // to work around a pygments (?) bug
    var suffixes = {cfg: null, python:null};
    for (var suffix in suffixes) {
        var pattern = 'div.highlight-' + suffix + ' > pre';
        $(pattern).wrap('<div class="highlight" />');
    }
    return true;
});
//]]>
</script>

  </head>
  <body>
<!--[if lte IE 6]>
<style type="text/css">
#ie6msg{border:3px solid #090; margin:8px 0; background:#cfc; color:#000;}
#ie6msg h4{margin:8px; padding:0;}
#ie6msg p{margin:8px; padding:0;}
#ie6msg p a.getie8{font-weight:bold; color:#006;}
#ie6msg p a.ie6expl{font-weight:normal; color:#006;}
</style>
<div id="ie6msg">
<h4>Did you know that your browser is out of date?</h4>
<p>If the layout of this site seems ugly, that's because you're actually using
an outdated browser. And we wont put any effort to provide a nice layout to IE6
users.</p>
<p>To get the best possible experience using our website we recommend that you
upgrade your browser to a newer version. The current version
is <a class="getie8"
href="http://upgradeie.s3.amazonaws.com/eng/index.html">Internet Explorer
8</a>. The upgrade is free. If you're using a PC at work you should contact your
IT administrator.</p>
<p>If you want to you may also try some other popular Internet browsers
like <a class="ie6expl"
href="http://getfirefox.com">Firefox</a>, <a class="ie6expl"
href="http://www.google.com/chrome">Chrome</a>, <a class="ie6expl"
href="http://www.opera.com">Opera</a>, or <a class="ie6expl"
href="http://www.apple.com/safari/download/">Safari</a></p>
</div>
<![endif]-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="programmation_orientee_objet.html" title="La programmation Orientée Objet"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="fonctions_espaces_noms.html" title="Fonctions et espaces de noms"
             accesskey="P">précédent</a> |</li>
        <li><a href="../index.html">Formation Plone</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Presentation de Python</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="modules-et-packages">
<span id="python-modules-packages"></span><h1>Modules et packages<a class="headerlink" href="#modules-et-packages" title="Lien permanent vers ce titre">¶</a></h1>
<p>Un programme Python est généralement composé de plusieurs fichiers sources,
appelés modules. Leur nom est suffixé :samp`.py`.</p>
<p>S'ils sont correctement codés les modules doivent être indépendants les uns
des autres pour être réutilisés à la demande dans d'autres programmes.</p>
<p>Ce chapitre explique comment coder et importer des modules dans un autre.</p>
<p>Nous verrons également la notion de package qui permet de grouper plusieurs
modules.</p>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-module">Module</dt>
<dd>Fichier indépendant permettant de scinder un programme en plusieurs scripts.
Ce mécanisme permet d'élaborer efficacement des bibliothèques de fonctions
ou de classes.</dd>
</dl>
<p>Avantages des modules :</p>
<ul class="simple">
<li>réutilisation du code ;</li>
<li>la documentation et les tests peuvent être intégrés au module ;</li>
<li>réalisation de services ou de données partagés ;</li>
<li>partition de l'espace de noms du système.</li>
</ul>
<div class="section" id="import-d-un-module">
<h3>Import d'un module<a class="headerlink" href="#import-d-un-module" title="Lien permanent vers ce titre">¶</a></h3>
<p>Deux syntaxes possibles :</p>
<ul class="simple">
<li>la commande <tt class="samp docutils literal"><span class="pre">import</span> <em><span class="pre">nom_module</span></em></tt> importe la totalité des objets
du module :</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">tkinter</span>
</pre></div>
</div>
<ul class="simple">
<li>la commande <tt class="samp docutils literal"><span class="pre">from</span> <em><span class="pre">nom_module</span></em> <span class="pre">import</span> <span class="pre">obj1,</span> <span class="pre">obj2...</span></tt> n'importe que
les objets <tt class="samp docutils literal"><span class="pre">obj1</span></tt>, <tt class="samp docutils literal"><span class="pre">obj2</span></tt>... du module :</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">log</span>
</pre></div>
</div>
<p>Il est conseillé d'importer dans l'ordre :</p>
<ul class="simple">
<li>les modules de la bibliothèque standard ;</li>
<li>les modules des bibliothèques tierces ;</li>
<li>Les modules personnels.</li>
</ul>
</div>
<div class="section" id="exemples">
<h3>Exemples<a class="headerlink" href="#exemples" title="Lien permanent vers ce titre">¶</a></h3>
<p>Notion d'auto-test</p>
<p>Un module <tt class="file docutils literal"><span class="pre">cube_m.py</span></tt>. Remarquez l'utilisation de <strong>l'auto-test</strong> qui permet de
tester le module seul :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">cube</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calcule le cube du paramètre &lt;y&gt;.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">y</span><span class="o">**</span><span class="mi">3</span>
<span class="c"># Auto-test ----------------------------------------------------</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span> <span class="c"># False lors d&#39;un import ==&gt; ignoré</span>
    <span class="n">help</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span> <span class="c"># affiche le docstring de la fonction</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;cube de 9 :&quot;</span><span class="p">,</span> <span class="n">cube</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span> <span class="c"># cube de 9 : 729</span>
</pre></div>
</div>
<p>Utilisation de ce module. On importe la fonction cube() incluse dans le fichier
<tt class="file docutils literal"><span class="pre">cube_m.py</span></tt> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">cube_m</span> <span class="kn">import</span> <span class="n">cube</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;cube de&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s">&quot;=&quot;</span><span class="p">,</span> <span class="n">cube</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="c"># cube de 1 = 1 cube de 2 = 8 cube de 3 = 27</span>
</pre></div>
</div>
<p class="rubric">Une interface à gnuplot</p>
<p>L'application libre gnuplot permet d'afficher des courbes.  La fonction suivante
est une interface d'appel qui permet d'afficher des données issues de fichiers :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="k">def</span> <span class="nf">plotFic</span><span class="p">(</span><span class="n">courbes</span><span class="p">):</span>
    <span class="n">dem</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;_.dem&quot;</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span> <span class="c"># fichier réutilisé à chaque tracé</span>
    <span class="n">dem</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;set grid</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">plot_data</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;&#39;</span><span class="si">%s</span><span class="s">&#39; with </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">courbes</span><span class="p">]</span>
    <span class="n">dem</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;plot &quot;</span> <span class="o">+</span> <span class="s">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plot_data</span><span class="p">))</span>
    <span class="n">dem</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">pause -1 &quot;</span><span class="se">\&#39;</span><span class="s">Entrée</span><span class="se">\&#39;</span><span class="s"> pour continuer&quot;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="n">dem</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;reset&quot;</span><span class="p">)</span>
    <span class="n">dem</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">&quot;wgnuplot _.dem&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>L'auto-test suivant illustre son utilisation :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;d1.dat&quot;</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">),</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;d2.dat&quot;</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">),</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;d3.dat&quot;</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">201</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span> <span class="mf">5.0</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">20</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%g</span><span class="s"> </span><span class="si">%g</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">30</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">g</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%g</span><span class="s"> </span><span class="si">%g</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">40</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">h</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%g</span><span class="s"> </span><span class="si">%g</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="n">h</span><span class="o">.</span><span class="n">close</span><span class="p">();</span> <span class="n">g</span><span class="o">.</span><span class="n">close</span><span class="p">();</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">plotFic</span><span class="p">([(</span><span class="s">&#39;d1.dat&#39;</span><span class="p">,</span> <span class="s">&#39;points&#39;</span><span class="p">)])</span>
    <span class="n">plotFic</span><span class="p">([(</span><span class="s">&#39;d1.dat&#39;</span><span class="p">,</span> <span class="s">&#39;lines&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d2.dat&#39;</span><span class="p">,</span> <span class="s">&#39;points&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;d3.dat&#39;</span><span class="p">,</span> <span class="s">&#39;lines&#39;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="bibliotheque-standard">
<h2>Bibliothèque standard<a class="headerlink" href="#bibliotheque-standard" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="la-bibliotheque-standard">
<h3>La bibliothèque standard<a class="headerlink" href="#la-bibliotheque-standard" title="Lien permanent vers ce titre">¶</a></h3>
<p>On dit souvent que Python est livré <strong>piles comprises</strong> (batteries included)
tant sa bibliothèque standard, riche de plus de 200 packages et modules, répond
aux problèmes courants les plus variés.</p>
<p>Ce survol présente quelques fonctionnalités utiles.</p>
<p class="rubric">La gestion des chaînes</p>
<p>Le module <tt class="xref py py-mod docutils literal"><span class="pre">string</span></tt> fournit des constantes comme <tt class="samp docutils literal"><span class="pre">ascii_lowercase</span></tt>,
<tt class="samp docutils literal"><span class="pre">digits</span></tt>...et la classe <tt class="samp docutils literal"><span class="pre">Formatter</span></tt> qui peut être spécialisée en
sous-classes spécialisées de formateurs de chaînes.</p>
<p>Le module <tt class="xref py py-mod docutils literal"><span class="pre">textwrap</span></tt> est utilisé pour formater un texte : longueur de
chaque ligne, contrôle de l'indentation.</p>
<p>Le module <tt class="xref py py-mod docutils literal"><span class="pre">struct</span></tt> permet de convertir des nombres, booléens et des chaînes
en leur représentation binaire afin de communiquer avec des bibliothèques de bas
niveau (souvent en C).</p>
<p>Le module <tt class="xref py py-mod docutils literal"><span class="pre">difflib</span></tt> permet la comparaison de séquences et fournit des
sorties au format standard <strong class="command">diff</strong> ou en HTML.</p>
<p>Enfin on ne peut oublier le module <tt class="xref py py-mod docutils literal"><span class="pre">re</span></tt> qui offre à Python la puissance des
expressions régulières.</p>
<p><strong>Exemple : le module io.StringIO</strong></p>
<p>Ce module fournit des objets compatibles avec l'interface des objets fichiers.</p>
<p>Exemple de gestion ligne à ligne d'un fichier ou d'une chaîne avec la même
fonction <tt class="xref py py-func docutils literal"><span class="pre">scanner</span></tt> utilisant le même traitement :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">scanner</span><span class="p">(</span><span class="n">objet_fichier</span><span class="p">,</span> <span class="n">gestionnaire_ligne</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">objet_fichier</span><span class="p">:</span>
        <span class="n">gestionnaire_ligne</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">premierMot</span><span class="p">(</span><span class="n">ligne</span><span class="p">):</span> <span class="k">print</span><span class="p">(</span><span class="n">ligne</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">fic</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;data.dat&quot;</span><span class="p">)</span>
    <span class="n">scanner</span><span class="p">(</span><span class="n">fic</span><span class="p">,</span> <span class="n">premierMot</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">io</span>
    <span class="n">chaine</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="s">&quot;un</span><span class="se">\n</span><span class="s">deux xxx</span><span class="se">\n</span><span class="s">trois</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">scanner</span><span class="p">(</span><span class="n">chaine</span><span class="p">,</span> <span class="n">premierMot</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">La gestion de la ligne de commande</p>
<p>La gestion est assurée par deux modules : <tt class="xref py py-mod docutils literal"><span class="pre">getopt</span></tt>, le module historique
hérité du C et <tt class="xref py py-mod docutils literal"><span class="pre">optparse</span></tt>, un module récent beaucoup plus puissant :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">optparse</span> <span class="kn">import</span> <span class="n">OptionParser</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">()</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;--file&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&quot;filename&quot;</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="s">&quot;write report to FILE&quot;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s">&quot;FILE&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s">&quot;-q&quot;</span><span class="p">,</span> <span class="s">&quot;--quiet&quot;</span><span class="p">,</span>
    <span class="n">action</span><span class="o">=</span><span class="s">&quot;store_false&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="s">&quot;don&#39;t print status messages to stdout&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<p>Les lignes de commande :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>python 6_025.py -h
</pre></div>
</div>
<p>ou :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>python 6_025.py --help
</pre></div>
</div>
<p>produisent la même documentation :</p>
<div class="highlight-python"><pre>Usage: 6_025.py [options]

Options:
  -h, --help show this help message and exit
  -f FILE, --file=FILE write report to FILE
  -q, --quiet don't print status messages to stdout</pre>
</div>
<p class="rubric">Bibliothèques mathématiques et types numériques</p>
<p>En standard, Python propose les modules <tt class="xref py py-mod docutils literal"><span class="pre">fraction</span></tt> et <tt class="xref py py-mod docutils literal"><span class="pre">decimal</span></tt> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">decimal</span> <span class="kn">as</span> <span class="nn">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">))</span>
<span class="go">-8/5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">123</span><span class="p">))</span>
<span class="go">123</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="s">&#39; -3/7 &#39;</span><span class="p">))</span>
<span class="go">-3/7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="s">&#39;-.125&#39;</span><span class="p">))</span>
<span class="go">-1/8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="s">&#39;7e-6&#39;</span><span class="p">))</span>
<span class="go">7/1000000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">getcontext</span><span class="p">()</span><span class="o">.</span><span class="n">prec</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">d</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="go">0.142857</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">getcontext</span><span class="p">()</span><span class="o">.</span><span class="n">prec</span> <span class="o">=</span> <span class="mi">18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">d</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="go">0.142857142857142857</span>
</pre></div>
</div>
<p>En plus des bibliothèques <tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt> et <tt class="xref py py-mod docutils literal"><span class="pre">cmath</span></tt> déjà vues, la bibliothèque
<tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt> propose plusieurs fonctions de nombres aléatoires.</p>
<p class="rubric">La gestion du temps et des dates</p>
<p>Les modules <tt class="xref py py-mod docutils literal"><span class="pre">calendar</span></tt>, <tt class="xref py py-mod docutils literal"><span class="pre">time</span></tt> et <tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt> fournissent les
fonctions courantes de gestion du temps et des durées :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">calendar</span><span class="o">,</span> <span class="nn">datetime</span><span class="o">,</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moon_apollo11</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1969</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">moon_apollo11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="go">Thu Jan 01 00:00:00 1970 (&quot;epoch&quot; UNIX)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vendredi_precedent</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">un_jour</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">vendredi_precedent</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">!=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">FRIDAY</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">vendredi_precedent</span> <span class="o">-=</span> <span class="n">un_jour</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">vendredi_precedent</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%A, </span><span class="si">%d</span><span class="s">-%b-%Y&quot;</span><span class="p">))</span>
<span class="go">Friday, 09-Oct-2009</span>
</pre></div>
</div>
<p class="rubric">Algorithmes et types de données collection</p>
<p>Le module <tt class="xref py py-mod docutils literal"><span class="pre">bisect</span></tt> fournit des fonctions de recherche de séquences triées.
Le module <tt class="xref py py-mod docutils literal"><span class="pre">array</span></tt> propose un type semblable à la liste, mais plus rapide
car de contenu homogène.  Le module <tt class="xref py py-mod docutils literal"><span class="pre">heapq</span></tt> gère des tas dans lesquels
l'élément d'indice 0 est toujours le plus petit :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">heapq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">heap</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
<span class="go">[2, 3, 5, 4, 6, 6, 7, 8, 7, 8]</span>
</pre></div>
</div>
<p>À l'instar des structures C, Python propose désormais, via le module
<tt class="xref py py-mod docutils literal"><span class="pre">collections</span></tt>, la notion de type tuple nommé :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">collections</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># description du type :</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s">&quot;Point&quot;</span><span class="p">,</span> <span class="s">&quot;x y z&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># on instancie un point :</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># on l&#39;affiche :</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;point : [{}, {}, {}]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">z</span><span class="p">))</span>
<span class="go">point : [1.2, 2.3, 3.4]</span>
</pre></div>
</div>
<p>Il est bien sûr possible d'avoir des tuples nommés emboîtés.  Le type
<tt class="samp docutils literal"><span class="pre">defaultdict</span></tt> permet des utilisations avancées :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">dict_items([(&#39;y&#39;, [1, 3]), (&#39;r&#39;, [1]), (&#39;b&#39;, [2, 4])])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;mississippi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">dict_items([(&#39;i&#39;, 4), (&#39;p&#39;, 2), (&#39;s&#39;, 4), (&#39;m&#39;, 1)])</span>
</pre></div>
</div>
<p class="rubric">Et tant d'autres domaines...</p>
<p>Beaucoup d'autres domaines pourraient être explorés :</p>
<ul class="simple">
<li>accès au système ;</li>
<li>utilitaires fichiers ;</li>
<li>programmation réseau ;</li>
<li>persistance ;</li>
<li>les fichiers XML;</li>
<li>la compression ;</li>
<li>...</li>
</ul>
</div>
</div>
<div class="section" id="bibliotheques-tierces">
<h2>Bibliothèques tierces<a class="headerlink" href="#bibliotheques-tierces" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="une-grande-diversite">
<h3>Une grande diversité<a class="headerlink" href="#une-grande-diversite" title="Lien permanent vers ce titre">¶</a></h3>
<p>Outre les modules intégrés à la distribution standard de Python, on trouve des
bibliothèques dans tous les domaines :</p>
<ul class="simple">
<li>scientifique ;</li>
<li>bases de données ;</li>
<li>tests fonctionnels et contrôle de qualité ;</li>
<li>3D;</li>
<li>...</li>
</ul>
<p>Le site <a class="reference external" href="http://pypi.python.org/pypi">http://pypi.python.org/pypi</a> (The Python Package Index) recense des milliers de
modules et de packages !</p>
</div>
<div class="section" id="un-exemple-la-bibliotheque-unum">
<h3>Un exemple : la bibliothèque Unum<a class="headerlink" href="#un-exemple-la-bibliotheque-unum" title="Lien permanent vers ce titre">¶</a></h3>
<p>Elle permet de calculer en tenant compte des unités du système S.I.
Voici un exemple de session interactive :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="go">-- Welcome in Unum Calculator (ver 04.00) --</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="mi">1609</span> <span class="o">*</span> <span class="n">M</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="mf">11.7</span> <span class="o">*</span> <span class="n">S</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">d</span><span class="o">/</span><span class="n">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">137.521367521 [m/s]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">v</span><span class="o">/</span><span class="n">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">11.753963036 [m/s2]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="packages">
<h2>Packages<a class="headerlink" href="#packages" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-package">Package</dt>
<dd>Un <strong>package</strong> est un module contenant d'autres modules. Les modules d'un
package peuvent être des <strong>sous-packages</strong>, ce qui donne une structure
arborescente.</dd>
</dl>
<p>En résumé, un package est simplement un répertoire qui contient des modules et
un fichier <tt class="file docutils literal"><span class="pre">__init__.py</span></tt> décrivant l'arborescence du package.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo"><a href="../index.html"><img src="../_static/plone-icon-64.png" />
</a></p>

  <h3><a href="../index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Modules et packages</a><ul>
<li><a class="reference internal" href="#modules">Modules</a><ul>
<li><a class="reference internal" href="#import-d-un-module">Import d'un module</a></li>
<li><a class="reference internal" href="#exemples">Exemples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bibliotheque-standard">Bibliothèque standard</a><ul>
<li><a class="reference internal" href="#la-bibliotheque-standard">La bibliothèque standard</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bibliotheques-tierces">Bibliothèques tierces</a><ul>
<li><a class="reference internal" href="#une-grande-diversite">Une grande diversité</a></li>
<li><a class="reference internal" href="#un-exemple-la-bibliotheque-unum">Un exemple : la bibliothèque Unum</a></li>
</ul>
</li>
<li><a class="reference internal" href="#packages">Packages</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="fonctions_espaces_noms.html"
                        title="Chapitre précédent">Fonctions et espaces de noms</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="programmation_orientee_objet.html"
                        title="Chapitre suivant">La programmation Orientée Objet</a></p>
  <h3>Cette page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/python/modules_packages.txt"
           rel="nofollow">Montrer la source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="programmation_orientee_objet.html" title="La programmation Orientée Objet"
             >suivant</a> |</li>
        <li class="right" >
          <a href="fonctions_espaces_noms.html" title="Fonctions et espaces de noms"
             >précédent</a> |</li>
        <li><a href="../index.html">Formation Plone</a> &raquo;</li>
          <li><a href="index.html" >Presentation de Python</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010-2013, Communauté Plone francophone.
      Mis à jour le  07-February-2013.
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>

<hr />
<div id="disqus_thread">
</div>
<script type="text/javascript"
        src="http://disqus.com/forums/plonepourlesintgrateurs/embed.js">
</script>
<noscript>
  <a href="http://disqus.com/forums/plonepourlesintgrateurs/?url=ref">
    View the discussion thread.
  </a>
</noscript>
<a href="http://disqus.com"
   class="dsq-brlink">blog comments powered by
  <span class="logo-disqus">Disqus</span>
</a>
<script type="text/javascript">
//<![CDATA[
(function() {
  var links = document.getElementsByTagName('a');
  var query = '?';
  for(var i = 0; i < links.length; i++) {
    if(links[i].href.indexOf('#disqus_thread') >= 0) {
      query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
    }
    // Not a Jinja end block
  }
  document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/plonepourlesintgrateurs/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>


  </body>
</html>