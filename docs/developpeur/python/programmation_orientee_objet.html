
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>La programmation Orientée Objet &mdash; Plone pour les développeurs 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/plone.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Recherchez dans Plone pour les développeurs 1.0.0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="top" title="Plone pour les développeurs 1.0.0 documentation" href="../index.html" />
    <link rel="up" title="Presentation de Python" href="index.html" />
    <link rel="next" title="Quelques Techniques avancées de programmation" href="techniques_avancees_programmation.html" />
    <link rel="prev" title="Modules et packages" href="modules_packages.html" />
<script language="javascript">
//<![CDATA[

Documentation.addTranslations({"locale": "fr", "plural_expr": "(n > 1)", "messages": {"See the definition": "Voir la d\u00e9finition"}});

// See http://disqus.disqus.com/general_integration_help/
var disqus_developer = 1;
if (document.location.protocol == 'http:') {
    disqus_developer = 0;
}

// Some HTML/CSS transforms we can't do in pure CSS (waiting for CSS3 support)
$(document).ready(function () {

    // Style of .. verisonmodified:: , .. versionadded:: ...
    $('p:has(span.versionmodified)').addClass('p-versionmodified');

    // Style of the TOC tree
    $('ul:has(li.toctree-l1)').addClass('toctree');

    // Decorate links to other sites
    $('a[class~=external]').attr('target', '_blank');

    // Glossary terms
    $('em.xref').attr('title', _('See the definition'));

    // We need to have all <pre> in a <div class="highlight"> to mimic pygments
    // to work around a pygments (?) bug
    var suffixes = {cfg: null, python:null};
    for (var suffix in suffixes) {
        var pattern = 'div.highlight-' + suffix + ' > pre';
        $(pattern).wrap('<div class="highlight" />');
    }
    return true;
});
//]]>
</script>

  </head>
  <body>
<!--[if lte IE 6]>
<style type="text/css">
#ie6msg{border:3px solid #090; margin:8px 0; background:#cfc; color:#000;}
#ie6msg h4{margin:8px; padding:0;}
#ie6msg p{margin:8px; padding:0;}
#ie6msg p a.getie8{font-weight:bold; color:#006;}
#ie6msg p a.ie6expl{font-weight:normal; color:#006;}
</style>
<div id="ie6msg">
<h4>Did you know that your browser is out of date?</h4>
<p>If the layout of this site seems ugly, that's because you're actually using
an outdated browser. And we wont put any effort to provide a nice layout to IE6
users.</p>
<p>To get the best possible experience using our website we recommend that you
upgrade your browser to a newer version. The current version
is <a class="getie8"
href="http://upgradeie.s3.amazonaws.com/eng/index.html">Internet Explorer
8</a>. The upgrade is free. If you're using a PC at work you should contact your
IT administrator.</p>
<p>If you want to you may also try some other popular Internet browsers
like <a class="ie6expl"
href="http://getfirefox.com">Firefox</a>, <a class="ie6expl"
href="http://www.google.com/chrome">Chrome</a>, <a class="ie6expl"
href="http://www.opera.com">Opera</a>, or <a class="ie6expl"
href="http://www.apple.com/safari/download/">Safari</a></p>
</div>
<![endif]-->

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="techniques_avancees_programmation.html" title="Quelques Techniques avancées de programmation"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="modules_packages.html" title="Modules et packages"
             accesskey="P">précédent</a> |</li>
        <li><a href="../index.html">Formation Plone</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Presentation de Python</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="la-programmation-orientee-objet">
<span id="python-programmation-orientee-objet"></span><h1>La programmation Orientée Objet<a class="headerlink" href="#la-programmation-orientee-objet" title="Lien permanent vers ce titre">¶</a></h1>
<p>La Programmation Orientée Objet :</p>
<ul class="simple">
<li>la POO permet de mieux modéliser la réalité en concevant des ensembles
d'objets, les classes.</li>
<li>Ces classes permettent de construire des objets interactifs entre eux et avec
le monde extérieur.</li>
<li>Les objets sont créés indépendamment les uns des autres, grâce à
l'encapsulation, mécanisme qui permet d'embarquer leurs propriétés.</li>
<li>Les classes permettent d'éviter au maximum l'emploi des variables globales.</li>
<li>Enfin les classes offrent un moyen économique et puissant de construire de
nouveaux objets à partir d'objets préexistants.</li>
</ul>
<div class="section" id="insuffisance-de-l-approche-procedurale">
<h2>Insuffisance de l'approche procédurale<a class="headerlink" href="#insuffisance-de-l-approche-procedurale" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un exemple : On veut représenter un cercle, ce qui nécessite au minimum trois
informations, les coordonnées du centre et le rayon :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cercle</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>Mais comment interpréter ces trois données ?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cercle</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">rayon</span><span class="p">)</span>
</pre></div>
</div>
<p>ou bien</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cercle</span> <span class="o">=</span> <span class="p">(</span><span class="n">rayon</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Pour résoudre ce problème et améliorer la lisibilité, on peut utiliser des
tuples nommés :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">collection</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="n">Cercle</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">&quot;Cercle&quot;</span><span class="p">,</span> <span class="s">&quot;x y rayon&quot;</span><span class="p">)</span>
<span class="n">cercle</span> <span class="o">=</span> <span class="n">Cercle</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="c"># exemple d&#39;utilisation :</span>
<span class="n">distance</span> <span class="o">=</span> <span class="n">distance_origine</span><span class="p">(</span><span class="n">cercle</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">cercle</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Par contre, il reste le problème des données invalides, ici un rayon négatif :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cercle</span> <span class="o">=</span> <span class="n">Cercle</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>Si les cercles doivent changer de caractéristiques, il faut opter pour un type
modifiable, liste ou dictionnaire ce qui ne règle toujours pas le problème des
données invalides...</p>
<p>On a donc besoin d'un mécanisme pour empaqueter les données nécessaires pour
représenter un cercle et pour empaqueter les méthodes applicables à ce nouveau
type de données (la classe), de telle sorte que seules les opérations valides
soient utilisables.</p>
</div>
<div class="section" id="terminologie">
<h2>Terminologie<a class="headerlink" href="#terminologie" title="Lien permanent vers ce titre">¶</a></h2>
<p class="rubric">Le vocabulaire de la POO</p>
<p>Une <strong>classe</strong> est donc équivalente à un <strong>nouveau type de données</strong>.
On connaît déjà par exemple <tt class="xref py py-class docutils literal"><span class="pre">int</span></tt> ou <tt class="xref py py-class docutils literal"><span class="pre">str</span></tt>.</p>
<p>Un <strong>objet</strong> ou une <strong>instance</strong> est un exemplaire particulier d'une
classe. Par exemple <tt class="docutils literal"><span class="pre">&quot;truc&quot;</span></tt> est une instance de la classe <tt class="xref py py-class docutils literal"><span class="pre">str</span></tt>.</p>
<p>La plupart des classes <strong>encapsulent</strong> à la fois les données et les
méthodes applicables aux objets. Par exemple un objet str contient une chaîne
de caractères Unicode (les données) et de nombreuses méthodes comme
<tt class="xref py py-meth docutils literal"><span class="pre">upper</span></tt>.</p>
<p>On pourrait définir un objet comme une capsule, à savoir un &quot;paquet&quot; contenant
des attributs et des méthodes :</p>
<div class="highlight-python"><pre>objet = [attributs + méthodes]</pre>
</div>
<p>Beaucoup de classes offrent des caractéristiques supplémentaires comme par
exemple la concaténation des chaînes en utilisant simplement l'opérateur <tt class="docutils literal"><span class="pre">+</span></tt>.
Ceci est obtenu grâce aux <strong>méthodes spéciales</strong>. Par exemple l'opérateur <tt class="docutils literal"><span class="pre">+</span></tt>
est utilisable car on a redéfini la méthode <tt class="xref py py-meth docutils literal"><span class="pre">__add__</span></tt>.</p>
<p>Les objets ont généralement deux sortes d'attributs : les données nommées
simplement <strong>attributs</strong> et les fonctions applicables appelées <strong>méthodes</strong>. Par
exemple un objet de la classe complex possède :</p>
<ul class="simple">
<li><tt class="xref py py-attr docutils literal"><span class="pre">imag</span></tt> et <tt class="xref py py-attr docutils literal"><span class="pre">real</span></tt>, ses attributs ;</li>
<li>beaucoup de méthodes, comme <tt class="xref py py-meth docutils literal"><span class="pre">conjugate</span></tt> ;</li>
<li>des méthodes spéciales pour le support des opérateurs : <tt class="docutils literal"><span class="pre">+</span></tt>, <tt class="docutils literal"><span class="pre">-</span></tt>, <tt class="docutils literal"><span class="pre">/</span></tt>
...</li>
</ul>
<p>Les attributs sont normalement implémentés comme des <strong>variables d'instance</strong>,
particulières à chaque instance d'objet.</p>
<p>Le mécanisme de <tt class="xref py py-func docutils literal"><span class="pre">property</span></tt> permet un accès contrôlé aux données, ce
qui permet de les valider et de les sécuriser.</p>
<p>Un avantage décisif de la POO est qu'une classe Python peut toujours être
spécialisée en une classe fille qui <strong>hérite</strong> alors de tous les attributs
(données et méthodes) de sa <strong>supper classe</strong>.  Comme tous les attributs peuvent
être redéfinis, une méthode de la classe fille et de la classe mère peut
posséder le même nom mais effectuer des traitements différents
(<strong>surcharge</strong>) et Python s'adaptera dynamiquement, dès l'affectation.</p>
<p>En proposant d'utiliser un même nom de méthode pour plusieurs types d'objets
différents, le <strong>polymorphisme</strong> permet une programmation beaucoup plus
générique.</p>
<p>Le développeur n'a pas à savoir, lorsqu'il programme une méthode, le type précis
de l'objet sur lequel la méthode va s'appliquer.  Il lui suffit de savoir que
cet objet implémentera la méthode.</p>
<p>Enfin Python supporte également le <strong>duck typing</strong> : &quot;s'il marche comme un
canard et cancane comme un canard, alors c'est un canard !&quot;. Ce qui signifie que
Python ne s'intéresse qu'au comportement des objets.</p>
<p>Par exemple un objet fichier peut être créé par <tt class="xref py py-func docutils literal"><span class="pre">open</span></tt> ou par une
instance de <tt class="xref py py-class docutils literal"><span class="pre">io.StringIO</span></tt>.</p>
<p>Les deux approches offrent la même API (interface de programmation),
c'est-à-dire les mêmes méthodes.</p>
</div>
<div class="section" id="classes-et-instanciation-d-objets">
<h2>Classes et instanciation d'objets<a class="headerlink" href="#classes-et-instanciation-d-objets" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="l-instruction-class">
<h3>L'instruction class<a class="headerlink" href="#l-instruction-class" title="Lien permanent vers ce titre">¶</a></h3>
<p class="rubric">Syntaxe</p>
<p>Instruction composée : en-tête (avec docstring) + corps indenté :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Documentation de la classe.&quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">23</span>
</pre></div>
</div>
<p>Dans cet exemple, <tt class="xref py py-class docutils literal"><span class="pre">C</span></tt> est le nom de la <strong>classe</strong> (qui commence
conventionnellement par une majuscule), et <tt class="xref py py-attr docutils literal"><span class="pre">x</span></tt> est un <strong>attribut de
classe</strong>, local à <tt class="xref py py-class docutils literal"><span class="pre">C</span></tt>.</p>
</div>
<div class="section" id="l-instanciation-et-ses-attributs">
<h3>L'instanciation et ses attributs<a class="headerlink" href="#l-instanciation-et-ses-attributs" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li>Les classes sont des fabriques d'objets : on construit d'abord l'usine avant
de produire des objets !</li>
<li>On <strong>instancie</strong> un objet (i.e. création, production depuis l'usine) en
appelant le nom de sa classe :</li>
</ul>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span> <span class="c"># a est un objet de la classe C</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="c"># affiche les attributs de l&#39;objet a</span>
<span class="go">[&#39;__class__&#39;, &#39;__delattr__&#39;, &#39;__dict__&#39;, &#39;__doc__&#39;, &#39;__format__&#39;, ..., &#39;x&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="c"># x est un attribut de classe</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">12</span> <span class="c"># modifie l&#39;attribut d&#39;instance (attention...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="c"># l&#39;attribut de classe est inchangé</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">44</span> <span class="c"># nouvel attribut d&#39;instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span> <span class="c"># b est un autre objet de la classe C</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="c"># b connaît son attribut de classe, mais...</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;C&#39; object has no attribute &#39;y&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="lintrospection">
<h3>L’introspection.<a class="headerlink" href="#lintrospection" title="Lien permanent vers ce titre">¶</a></h3>
<p>Plusieurs commandes magiques :</p>
<ul class="simple">
<li><tt class="xref py py-func docutils literal"><span class="pre">dir</span></tt> fonction d'affichage des membres d'un objet,</li>
<li><tt class="docutils literal"><span class="pre">is</span></tt> opérateur testant si les deux membres sont la même instance,</li>
<li><tt class="xref py py-func docutils literal"><span class="pre">isinstance</span></tt> fonction testant si une instance est bien d'un type
donné,</li>
<li><tt class="xref py py-func docutils literal"><span class="pre">help</span></tt> fonction d'affichage de l'aide sur un objet,</li>
<li><tt class="xref py py-func docutils literal"><span class="pre">globals</span></tt> permet d'afficher les variables globales,</li>
<li><tt class="xref py py-func docutils literal"><span class="pre">locals</span></tt> permet d'afficher les variables locales d'une fonction ou methode.</li>
</ul>
<p>Plusieurs attributs :</p>
<ul class="simple">
<li><tt class="xref py py-attr docutils literal"><span class="pre">__class__</span></tt> pointe vers la classe de l'objet.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">__dict__</span></tt> si l'objet est un <strong>mutable</strong>, ce dictionnaire
contient la liste des membres de l'instance.</li>
</ul>
</div>
<div class="section" id="retour-sur-les-espaces-de-noms">
<h3>Retour sur les espaces de noms<a class="headerlink" href="#retour-sur-les-espaces-de-noms" title="Lien permanent vers ce titre">¶</a></h3>
<p>Tout comme les fonctions, les classes possèdent leurs espaces de noms :</p>
<ul class="simple">
<li>Chaque classe possède son propre espace de noms. Les variables qui en font
partie sont appelées attributs de classe.</li>
<li>Chaque objet instance (créé à partir d'une classe) obtient son propre espace
de noms. Les variables qui en font partie sont appelées attributs d'instance.</li>
<li>Les classes peuvent utiliser (mais pas modifier) les variables définies au
niveau principal.</li>
<li>Les instances peuvent utiliser (mais pas modifier) les variables définies au
niveau de la classe et les variables définies au niveau principal.
Les espaces de noms sont implémentés par des dictionnaires pour les modules,
les classes et les instances.</li>
<li><strong>Noms non qualifiés</strong> (exemple <tt class="xref py py-attr docutils literal"><span class="pre">dimension</span></tt>) l'affectation crée ou
change le nom dans la portée locale courante. Ils sont cherchés suivant la
règle LGI.</li>
<li><strong>Noms qualifiés</strong> (exemple <tt class="xref py py-attr docutils literal"><span class="pre">dimension.hauteur</span></tt>) l'affectation crée ou
modifie l'attribut dans l'espace de noms de l'objet. Un attribut est cherché
dans l'objet, puis dans toutes les classes dont l'objet dépend (mais pas dans
les modules).</li>
</ul>
<p>L'exemple suivant affiche le dictionnaire lié à la classe <tt class="xref py py-class docutils literal"><span class="pre">C</span></tt> puis la
liste des attributs liés à une instance de <tt class="xref py py-class docutils literal"><span class="pre">C</span></tt> :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">x</span> <span class="o">=</span> <span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">__dict__</span><span class="p">)</span>
<span class="go">{&#39;__dict__&#39;: &lt;attribute &#39;__dict__&#39; of &#39;C&#39; objects&gt;, &#39;x&#39;: 20,</span>
<span class="go">&#39;__module__&#39;: &#39;__main__&#39;, &#39;__weakref__&#39;: &lt;attribute &#39;__weakref__&#39; of &#39;C&#39; objects&gt;,</span>
<span class="go">&#39;__doc__&#39;: None}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">[&#39;__class__&#39;, &#39;__delattr__&#39;, &#39;__dict__&#39;, &#39;__doc__&#39;, &#39;</span>
<span class="go">__getattribute__&#39;, &#39;__hash__&#39;, &#39;__init__&#39;, &#39;__module__&#39;, &#39;__new__&#39;, &#39;</span>
<span class="go">__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__setattr__&#39;, &#39;__str__&#39;, &#39;</span>
<span class="go">__weakref__&#39;, &#39;x&#39;]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="methodes">
<h2>Méthodes<a class="headerlink" href="#methodes" title="Lien permanent vers ce titre">¶</a></h2>
<p class="rubric">Syntaxe</p>
<p>Une méthode s'écrit comme une fonction du corps de la classe avec un premier
paramètre <tt class="xref py py-obj docutils literal"><span class="pre">self</span></tt> obligatoire, où <tt class="xref py py-obj docutils literal"><span class="pre">self</span></tt> représente l'objet sur lequel
la méthode sera appliquée. <a class="footnote-reference" href="#self-conv" id="id1">[1]</a></p>
<p>Autrement dit <tt class="xref py py-obj docutils literal"><span class="pre">self</span></tt> est la référence d'instance.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">23</span> <span class="c"># x et y : attributs de classe</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">5</span>

    <span class="k">def</span> <span class="nf">affiche</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c"># méthode affiche()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">42</span> <span class="c"># attribut d&#39;instance</span>
        <span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="c"># dans une méthode, on qualifie un attribut de classe,</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">)</span> <span class="c"># mais pas un attribut d&#39;instance</span>

<span class="n">ob</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span> <span class="c"># instanciation de l&#39;objet ob</span>
<span class="n">ob</span><span class="o">.</span><span class="n">affiche</span><span class="p">()</span> <span class="c"># 28 42 (à l&#39;appel, ob affecte self)</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="self-conv" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>L'utilisation du terme <tt class="xref py py-obj docutils literal"><span class="pre">self</span></tt> est une convention, contrairement à Javascript qui impose le terme <tt class="xref py py-obj docutils literal"><span class="pre">this</span></tt>.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="methodes-speciales">
<h2>Méthodes spéciales<a class="headerlink" href="#methodes-speciales" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="les-methodes-speciales">
<h3>Les méthodes spéciales<a class="headerlink" href="#les-methodes-speciales" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ces méthodes portent des noms pré-définis, précédés et suivis de deux caractères
de soulignement.</p>
<p>Elles servent :</p>
<ul class="simple">
<li>à initialiser l'objet instancié ;</li>
<li>à modifier son affichage ;</li>
<li>à surcharger ses opérateurs ;</li>
<li>...</li>
</ul>
</div>
<div class="section" id="l-initialisateur">
<h3>L'initialisateur<a class="headerlink" href="#l-initialisateur" title="Lien permanent vers ce titre">¶</a></h3>
<p>Lors de l'instanciation d'un objet, la méthode <tt class="xref py py-meth docutils literal"><span class="pre">__init__</span></tt> est
automatiquement invoquée. Elle permet d'effectuer toutes les initialisations
nécessaires :</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>       <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">n</span> <span class="c"># initialisation de l&#39;attribut d&#39;instance x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">une_instance</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span> <span class="c"># paramètre obligatoire, affecté à n</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">une_instance</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
<span class="go">42</span>
</pre></div>
</div>
<p>C'est une <strong>procédure</strong> automatiquement invoquée lors de l'instanciation :
elle ne contient <strong>jamais</strong> l'instruction <tt class="docutils literal"><span class="pre">return</span></tt>. Le cas échéant,
celle-ci est ignorée.</p>
</div>
<div class="section" id="surcharge-des-operateurs">
<h3>Surcharge des opérateurs<a class="headerlink" href="#surcharge-des-operateurs" title="Lien permanent vers ce titre">¶</a></h3>
<p>La surcharge permet à un opérateur de posséder un sens différent suivant le type
de leurs opérandes. Par exemple, l'opérateur <tt class="docutils literal"><span class="pre">+</span></tt> permet :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">7</span> <span class="o">+</span> <span class="mi">9</span> <span class="c"># addition entière</span>
<span class="n">s</span> <span class="o">=</span> <span class="s">&#39;ab&#39;</span> <span class="o">+</span> <span class="s">&#39;cd&#39;</span> <span class="c"># concaténation</span>
</pre></div>
</div>
<p>Python possède des méthodes de surcharge pour :</p>
<ul class="simple">
<li>tous les types (<tt class="xref py py-meth docutils literal"><span class="pre">__call__</span></tt>, <tt class="xref py py-meth docutils literal"><span class="pre">__str__</span></tt>, ...) ;</li>
<li>les nombres (<tt class="xref py py-meth docutils literal"><span class="pre">__add__</span></tt>, <tt class="xref py py-meth docutils literal"><span class="pre">__div__</span></tt>, ...) ;</li>
<li>les séquences (<tt class="xref py py-meth docutils literal"><span class="pre">__len__</span></tt>, <tt class="xref py py-meth docutils literal"><span class="pre">__iter__</span></tt>, ...).</li>
</ul>
<p>Soient deux instances, <tt class="xref py py-obj docutils literal"><span class="pre">obj1</span></tt> et <tt class="xref py py-obj docutils literal"><span class="pre">obj2</span></tt>, les méthodes spéciales
suivantes permettent d'effectuer les opérations arithmétiques courantes :</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Nom</td>
<td>Méthode spéciale</td>
<td>Utilisation</td>
</tr>
<tr class="row-even"><td>opposé</td>
<td><tt class="xref py py-meth docutils literal"><span class="pre">__neg__</span></tt></td>
<td><tt class="samp docutils literal"><span class="pre">-</span><em><span class="pre">obj1</span></em></tt></td>
</tr>
<tr class="row-odd"><td>addition</td>
<td><tt class="xref py py-meth docutils literal"><span class="pre">__add__</span></tt></td>
<td><tt class="samp docutils literal"><em><span class="pre">obj1</span></em> <span class="pre">+</span> <em><span class="pre">obj2</span></em></tt></td>
</tr>
<tr class="row-even"><td>soustraction</td>
<td><tt class="xref py py-meth docutils literal"><span class="pre">__sub__</span></tt></td>
<td><tt class="samp docutils literal"><em><span class="pre">obj1</span></em> <span class="pre">-</span> <em><span class="pre">obj2</span></em></tt></td>
</tr>
<tr class="row-odd"><td>multiplication</td>
<td><tt class="xref py py-meth docutils literal"><span class="pre">__mul__</span></tt></td>
<td><tt class="samp docutils literal"><em><span class="pre">obj1</span></em> <span class="pre">*</span> <em><span class="pre">obj2</span></em></tt></td>
</tr>
<tr class="row-even"><td>division</td>
<td><tt class="xref py py-meth docutils literal"><span class="pre">__div__</span></tt></td>
<td><tt class="samp docutils literal"><em><span class="pre">obj1</span></em> <span class="pre">/</span> <em><span class="pre">obj2</span></em></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="exemple-de-surcharge">
<h3>Exemple de surcharge<a class="headerlink" href="#exemple-de-surcharge" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Vecteur2D</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">autre</span><span class="p">):</span> <span class="c"># addition vectorielle</span>
        <span class="k">return</span> <span class="n">Vecteur2D</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">autre</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">autre</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c"># affichage d&#39;un Vecteur2D</span>
        <span class="k">return</span> <span class="s">&quot;Vecteur({:g}, {:g})&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

<span class="n">v1</span> <span class="o">=</span> <span class="n">Vecteur2D</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">)</span>
<span class="n">v2</span> <span class="o">=</span> <span class="n">Vecteur2D</span><span class="p">(</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">v1</span> <span class="o">+</span> <span class="n">v2</span><span class="p">)</span> <span class="c"># Vecteur(4.6, 6.8)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="heritage-et-polymorphisme">
<h2>Héritage et polymorphisme<a class="headerlink" href="#heritage-et-polymorphisme" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id2">
<h3>Héritage et polymorphisme<a class="headerlink" href="#id2" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-heritage">Héritage</dt>
<dd>L'<strong>héritage</strong> est le mécanisme qui permet de se servir d'une classe
préexistante pour en créer une nouvelle qui possédera des fonctionnalités
différentes ou supplémentaires.</dd>
<dt id="term-polymorphisme">Polymorphisme</dt>
<dd>Le <strong>polymorphisme</strong> est la faculté pour une méthode portant le même nom
mais appartenant à des classes distinctes héritées d'effectuer un travail
différent. Cette propriété est acquise par la technique de la surcharge.</dd>
</dl>
</div>
<div class="section" id="exemple-d-heritage-et-de-polymorphisme">
<h3>Exemple d'héritage et de polymorphisme<a class="headerlink" href="#exemple-d-heritage-et-de-polymorphisme" title="Lien permanent vers ce titre">¶</a></h3>
<p>Dans l'exemple suivant, la classe Carre hérite de la classe Rectangle, et la
méthode <tt class="xref py py-meth docutils literal"><span class="pre">__init__</span></tt> est polymorphe :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">longueur</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">largeur</span><span class="o">=</span><span class="mi">15</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">l</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nom</span> <span class="o">=</span> <span class="n">longueur</span><span class="p">,</span> <span class="n">largeur</span><span class="p">,</span> <span class="s">&quot;rectangle&quot;</span>

<span class="k">class</span> <span class="nc">Carre</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cote</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">Rectangle</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cote</span><span class="p">,</span> <span class="n">cote</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nom</span> <span class="o">=</span> <span class="s">&quot;carré&quot;</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">nom</span><span class="p">)</span> <span class="c"># &#39;rectangle&#39;</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Carre</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">nom</span><span class="p">)</span> <span class="c"># &#39;carré&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="retour-sur-l-exemple-initial">
<h2>Retour sur l'exemple initial<a class="headerlink" href="#retour-sur-l-exemple-initial" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="la-classe-cercle-conception">
<h3>La classe Cercle : conception<a class="headerlink" href="#la-classe-cercle-conception" title="Lien permanent vers ce titre">¶</a></h3>
<p>Nous allons tout d'abord concevoir une classe <tt class="xref py py-class docutils literal"><span class="pre">Point</span></tt> héritant de la
classe mère <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt>.</p>
<p>Puis nous pourrons l'utiliser comme classe de base de la classe <tt class="xref py py-class docutils literal"><span class="pre">Cercle</span></tt>.</p>
<p>Dans les schémas UML (Unified Modeling Language ) ci-dessous, les attributs en
italiques sont hérités, ceux en casse normale sont nouveaux et ceux en gras
sont redéfinis (surchargés).</p>
<div class="figure align-center">
<img alt="../_images/ConceptionUMLDeLaClasseCercle.jpg" src="../_images/ConceptionUMLDeLaClasseCercle.jpg" />
<p class="caption">Conception UML de la classe Cercle.</p>
</div>
</div>
<div class="section" id="la-classe-cercle">
<h3>La classe Cercle<a class="headerlink" href="#la-classe-cercle" title="Lien permanent vers ce titre">¶</a></h3>
<p>Voici le code de la classe Point :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">distance_origine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;({0.x!s}, {0.y!s})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>L'utilisation du décorateur property permet un accès en lecture seule au
résultat de la méthode <tt class="xref py py-meth docutils literal"><span class="pre">distance_origine</span></tt> considérée alors comme un
simple attribut (car il n'y a pas de parenthèse) :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">p1</span> <span class="o">==</span> <span class="n">p2</span><span class="p">)</span> <span class="c"># False</span>
    <span class="k">print</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">p2</span><span class="o">.</span><span class="n">distance_origine</span><span class="p">)</span> <span class="c"># (3, 4) 5.0</span>
</pre></div>
</div>
<p>De nouveau, les méthodes renvoyant un simple flottant seront utilisées comme
des attributs grâce à <tt class="xref py py-func docutils literal"><span class="pre">property</span></tt> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Cercle</span><span class="p">(</span><span class="n">Point</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rayon</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rayon</span> <span class="o">=</span> <span class="n">rayon</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">aire</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rayon</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">circonference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">rayon</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">distance_bord_origine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_origine</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">rayon</span><span class="p">)</span>
</pre></div>
</div>
<p>Voici la syntaxe permettant d'utiliser la méthode <tt class="xref py py-meth docutils literal"><span class="pre">rayon</span></tt> comme un
attribut en lecture-écriture.</p>
<p>Remarquez que la méthode <tt class="xref py py-meth docutils literal"><span class="pre">rayon</span></tt> retourne l'attribut protégé :
<tt class="xref py py-attr docutils literal"><span class="pre">__rayon</span></tt> qui sera modifié par le <tt class="xref py py-meth docutils literal"><span class="pre">setter</span></tt> (la méthode
modificatrice) :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Cercle</span><span class="p">(</span><span class="n">Cercle</span><span class="p">):</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rayon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rayon</span>

    <span class="nd">@rayon.setter</span>
    <span class="k">def</span> <span class="nf">rayon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rayon</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">rayon</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;rayon strictement positif&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__rayon</span> <span class="o">=</span> <span class="n">rayon</span>
</pre></div>
</div>
<p>Exemple d'utilisation des instances de <tt class="xref py py-class docutils literal"><span class="pre">Cercle</span></tt> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Cercle</span><span class="p">(</span><span class="n">Cercle</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rayon</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">rayon</span>
            <span class="ow">and</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s">&quot;{0.__class__.__name__}({0.rayon!s}, {0.x!s}, &quot;</span>
            <span class="s">&quot;{0.y!s})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">Cercle</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c1</span><span class="o">.</span><span class="n">aire</span><span class="p">,</span> <span class="n">c1</span><span class="o">.</span><span class="n">circonference</span><span class="p">)</span>
    <span class="c"># Cercle(2, 3, 4) 12.5663706144 12.5663706144</span>
    <span class="k">print</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="n">distance_bord_origine</span><span class="p">,</span> <span class="n">c1</span><span class="o">.</span><span class="n">rayon</span><span class="p">)</span> <span class="c"># 3.0 2</span>
    <span class="n">c1</span><span class="o">.</span><span class="n">rayon</span> <span class="o">=</span> <span class="mi">1</span> <span class="c"># modification du rayon</span>
    <span class="k">print</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="n">distance_bord_origine</span><span class="p">,</span> <span class="n">c1</span><span class="o">.</span><span class="n">rayon</span><span class="p">)</span> <span class="c"># 4.0 1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="notion-de-conception-orientee-objet">
<h2>Notion de Conception Orientée Objet<a class="headerlink" href="#notion-de-conception-orientee-objet" title="Lien permanent vers ce titre">¶</a></h2>
<p>Suivant les relations que l'on va établir entre les objets de notre
application, on peut concevoir nos classes de deux façons possibles :</p>
<ul class="simple">
<li>la <strong>composition</strong> qui repose sur la relation <strong>a-un</strong> ou sur la
relation <strong>utilise-un</strong> ;</li>
<li>la <strong>dérivation</strong> qui repose sur la relation <strong>est-un</strong>.</li>
</ul>
<p>Bien sûr, ces deux conceptions peuvent cohabiter, et c'est souvent le cas !</p>
<div class="section" id="composition">
<h3>Composition<a class="headerlink" href="#composition" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-composition">Composition</dt>
<dd>La composition est la collaboration de plusieurs classes distinctes via une
association (utilise-un) ou une aggrégation (a-un).</dd>
</dl>
<p>La classe composite bénéficie de l'ajout de fonctionnalités d'autres classes qui
n'ont rien en commun.</p>
<p>L'implémentation Python utilisée est généralement l'instanciation de classes
dans le constructeur de la classe composite.</p>
<p>Exemple :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">px</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">py</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="k">class</span> <span class="nc">Segment</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Classe composite utilisant la classe distincte Point.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orig</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span> <span class="c"># Segment &quot;a-un&quot; Point origine,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extrem</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="c"># et &quot;a-un&quot; Point extrémité</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s">&quot;Segment : [({:g}, {:g}), ({:g}, {:g})]&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orig</span><span class="o">.</span><span class="n">px</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">orig</span><span class="o">.</span><span class="n">py</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">extrem</span><span class="o">.</span><span class="n">px</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">extrem</span><span class="o">.</span><span class="n">py</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c"># Segment : [(1, 2), (3, 4)]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="derivation">
<h2>Dérivation<a class="headerlink" href="#derivation" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-derivation">Dérivation</dt>
<dd>La dérivation décrit la création de sous-classes par spécialisation.</dd>
</dl>
<p>On utilise dans ce cas le mécanisme de l'héritage.</p>
<p>L'implémentation Python utilisée est généralement l'appel dans le constructeur
de la classe dérivée du constructeur de la classe parente, soit nommément, soit
grâce à l'instruction <tt class="xref py py-func docutils literal"><span class="pre">super</span></tt>.</p>
<p>Exemple :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">longueur</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">largeur</span><span class="o">=</span><span class="mi">15</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">l</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nom</span> <span class="o">=</span> <span class="n">longueur</span><span class="p">,</span> <span class="n">largeur</span><span class="p">,</span> <span class="s">&quot;rectangle&quot;</span>

<span class="k">class</span> <span class="nc">Carre</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">):</span> <span class="c"># héritage simple</span>
    <span class="sd">&quot;&quot;&quot;Sous-classe spécialisée de la super-classe Rectangle.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cote</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
        <span class="c"># appel au constructeur de la super-classe de Carre :</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">cote</span><span class="p">,</span> <span class="n">cote</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nom</span> <span class="o">=</span> <span class="s">&quot;carré&quot;</span> <span class="c"># surcharge d&#39;attribut</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo"><a href="../index.html"><img src="../_static/plone-icon-64.png" />
</a></p>

  <h3><a href="../index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">La programmation Orientée Objet</a><ul>
<li><a class="reference internal" href="#insuffisance-de-l-approche-procedurale">Insuffisance de l'approche procédurale</a></li>
<li><a class="reference internal" href="#terminologie">Terminologie</a></li>
<li><a class="reference internal" href="#classes-et-instanciation-d-objets">Classes et instanciation d'objets</a><ul>
<li><a class="reference internal" href="#l-instruction-class">L'instruction class</a></li>
<li><a class="reference internal" href="#l-instanciation-et-ses-attributs">L'instanciation et ses attributs</a></li>
<li><a class="reference internal" href="#lintrospection">L’introspection.</a></li>
<li><a class="reference internal" href="#retour-sur-les-espaces-de-noms">Retour sur les espaces de noms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#methodes">Méthodes</a></li>
<li><a class="reference internal" href="#methodes-speciales">Méthodes spéciales</a><ul>
<li><a class="reference internal" href="#les-methodes-speciales">Les méthodes spéciales</a></li>
<li><a class="reference internal" href="#l-initialisateur">L'initialisateur</a></li>
<li><a class="reference internal" href="#surcharge-des-operateurs">Surcharge des opérateurs</a></li>
<li><a class="reference internal" href="#exemple-de-surcharge">Exemple de surcharge</a></li>
</ul>
</li>
<li><a class="reference internal" href="#heritage-et-polymorphisme">Héritage et polymorphisme</a><ul>
<li><a class="reference internal" href="#id2">Héritage et polymorphisme</a></li>
<li><a class="reference internal" href="#exemple-d-heritage-et-de-polymorphisme">Exemple d'héritage et de polymorphisme</a></li>
</ul>
</li>
<li><a class="reference internal" href="#retour-sur-l-exemple-initial">Retour sur l'exemple initial</a><ul>
<li><a class="reference internal" href="#la-classe-cercle-conception">La classe Cercle : conception</a></li>
<li><a class="reference internal" href="#la-classe-cercle">La classe Cercle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notion-de-conception-orientee-objet">Notion de Conception Orientée Objet</a><ul>
<li><a class="reference internal" href="#composition">Composition</a></li>
</ul>
</li>
<li><a class="reference internal" href="#derivation">Dérivation</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="modules_packages.html"
                        title="Chapitre précédent">Modules et packages</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="techniques_avancees_programmation.html"
                        title="Chapitre suivant">Quelques Techniques avancées de programmation</a></p>
  <h3>Cette page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/python/programmation_orientee_objet.txt"
           rel="nofollow">Montrer la source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="techniques_avancees_programmation.html" title="Quelques Techniques avancées de programmation"
             >suivant</a> |</li>
        <li class="right" >
          <a href="modules_packages.html" title="Modules et packages"
             >précédent</a> |</li>
        <li><a href="../index.html">Formation Plone</a> &raquo;</li>
          <li><a href="index.html" >Presentation de Python</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010-2013, Communauté Plone francophone.
      Mis à jour le  07-February-2013.
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>

<hr />
<div id="disqus_thread">
</div>
<script type="text/javascript"
        src="http://disqus.com/forums/plonepourlesintgrateurs/embed.js">
</script>
<noscript>
  <a href="http://disqus.com/forums/plonepourlesintgrateurs/?url=ref">
    View the discussion thread.
  </a>
</noscript>
<a href="http://disqus.com"
   class="dsq-brlink">blog comments powered by
  <span class="logo-disqus">Disqus</span>
</a>
<script type="text/javascript">
//<![CDATA[
(function() {
  var links = document.getElementsByTagName('a');
  var query = '?';
  for(var i = 0; i < links.length; i++) {
    if(links[i].href.indexOf('#disqus_thread') >= 0) {
      query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
    }
    // Not a Jinja end block
  }
  document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/plonepourlesintgrateurs/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>


  </body>
</html>